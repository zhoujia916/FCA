<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="FcaArticleMapper">
    <resultMap id="FcaArticle" type="puzzle.fca.entity.FcaArticle">
    	<id column="article_id" property="articleId" /> 
    	<result column="title" property="title" /> 
    	<result column="title2" property="title2" /> 
    	<result column="cat_id" property="catId" /> 
    	<result column="cover" property="cover" /> 
    	<result column="content" property="content" /> 
    	<result column="source_url" property="sourceUrl" /> 
    	<result column="add_time" property="addTime" /> 
    	<result column="add_user_id" property="addUserId" /> 
    	<result column="add_user_type" property="addUserType" /> 
    	<result column="check_time" property="checkTime" /> 
    	<result column="status" property="status" /> 
    	<result column="check_user_id" property="checkUserId" /> 
    	<result column="sort_order" property="sortOrder" /> 
    </resultMap>

    <sql id="allColumn">
    	article_id, title, title2, cat_id, cover, content, source_url, add_time, add_user_id, add_user_type, check_time, status, check_user_id, sort_order
    </sql>

    <insert id="insert" parameterType="FcaArticle" useGeneratedKeys="true" keyProperty="articleId">
        insert into fca_article 
        (
        	
        	<if test="title != null">title, </if>
        	<if test="title2 != null">title2, </if>
        	<if test="catId != null">cat_id, </if>
        	<if test="cover != null">cover, </if>
        	<if test="content != null">content, </if>
        	<if test="sourceUrl != null">source_url, </if>
        	<if test="addTime != null">add_time, </if>
        	<if test="addUserId != null">add_user_id, </if>
        	<if test="addUserType != null">add_user_type, </if>
        	<if test="checkTime != null">check_time, </if>
        	<if test="status != null">status, </if>
        	<if test="checkUserId != null">check_user_id, </if>
        	<if test="sortOrder != null">sort_order</if>
        )
        values 
        (
        	
        	<if test="title != null">#{title}, </if>
        	<if test="title2 != null">#{title2}, </if>
        	<if test="catId != null">#{catId}, </if>
        	<if test="cover != null">#{cover}, </if>
        	<if test="content != null">#{content}, </if>
        	<if test="sourceUrl != null">#{sourceUrl}, </if>
        	<if test="addTime != null">#{addTime}, </if>
        	<if test="addUserId != null">#{addUserId}, </if>
        	<if test="addUserType != null">#{addUserType}, </if>
        	<if test="checkTime != null">#{checkTime}, </if>
        	<if test="status != null">#{status}, </if>
        	<if test="checkUserId != null">#{checkUserId}, </if>
        	<if test="sortOrder != null">#{sortOrder}</if>
       	)
    </insert>

    <insert id="insertBatch" parameterType="java.util.List">
		insert into fca_article
		(
			
			title, 
			title2, 
			cat_id, 
			cover, 
			content, 
			source_url, 
			add_time, 
			add_user_id, 
			add_user_type, 
			check_time, 
			status, 
			check_user_id, 
			sort_order
		)
		values
		<foreach collection="list" item="item" index="index" separator=",">
		(
			
			#{item.title}, 
			#{item.title2}, 
			#{item.catId}, 
			#{item.cover}, 
			#{item.content}, 
			#{item.sourceUrl}, 
			#{item.addTime}, 
			#{item.addUserId}, 
			#{item.addUserType}, 
			#{item.checkTime}, 
			#{item.status}, 
			#{item.checkUserId}, 
			#{item.sortOrder}
		)
		</foreach>
	</insert>

    <update id="update" parameterType="FcaArticle">
        update fca_article 
        <set>
			<trim suffixOverrides=",">
                <if test="articleId != null and articleId != ''">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId != ''">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId != ''">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId != ''">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId != ''">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
                <if test="articleId != null and articleId > 0">
                    and article_id = #{articleId}
                </if>
			</trim>
        </set>
        <where> 
			<trim prefixOverrides="and | or">  
				<if test="articleId != null and articleId > 0">
					and article_id = #{articleId}
				</if>
			</trim>	
        </where>
    </update>

    <delete id="delete" parameterType="Map">
        delete from fca_article
        <where>
	        <trim prefixOverrides="and | or">  
				<!--单项删除-->
				<if test="articleId != null and articleId > 0">
					and article_id = #{articleId}
				</if>
				<!--批量删除-->
				<if test="articleIds != null and articleIds != ''">
					and article_id in (${articleIds})
				</if>
	        </trim>
        </where>
    </delete>

    <select id="query" parameterType="Map" resultMap="FcaArticle">
        select <include refid="allColumn"/> from fca_article
        <where>  
        	<if test="articleId != null and articleId > 0">
                and article_id = #{articleId}
            </if>
        </where> 
    </select>

    <select id="queryList" parameterType="Map" resultMap="FcaArticle">
        select <include refid="allColumn"/> from fca_article
        <where>
	        <trim prefixOverrides="and | or">
	        	<if test="articleId != null and articleId > 0">
	                and article_id = #{articleId}
	            </if>
	        	<if test="title != null and title != ''">
	                and title = #{title}
	            </if>
	        	<if test="title2 != null and title2 != ''">
	                and title2 = #{title2}
	            </if>
	        	<if test="catId != null and catId > 0">
	                and cat_id = #{catId}
	            </if>
	        	<if test="cover != null and cover != ''">
	                and cover = #{cover}
	            </if>
	        	<if test="content != null and content != ''">
	                and content = #{content}
	            </if>
	        	<if test="sourceUrl != null and sourceUrl != ''">
	                and source_url = #{sourceUrl}
	            </if>
	        	<if test="addTime != null and addTime > 0">
	                and add_time = #{addTime}
	            </if>
	        	<if test="addUserId != null and addUserId > 0">
	                and add_user_id = #{addUserId}
	            </if>
	        	<if test="addUserType != null and addUserType > 0">
	                and add_user_type = #{addUserType}
	            </if>
	        	<if test="checkTime != null and checkTime > 0">
	                and check_time = #{checkTime}
	            </if>
	        	<if test="status != null and status > 0">
	                and status = #{status}
	            </if>
	        	<if test="checkUserId != null and checkUserId > 0">
	                and check_user_id = #{checkUserId}
	            </if>
	        	<if test="sortOrder != null and sortOrder > 0">
	                and sort_order = #{sortOrder}
	            </if>
	        </trim>
        </where>
    </select>

</mapper>
